(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(69)},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},64:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),i=a.n(c),o=a(11),l=a(12),s=a(14),u=a(13),m=a(15),d=a(8),p=a(34),f=a(16);var h=function(e){return r.a.createElement("div",{id:"second",className:"second",style:{transform:"rotate(".concat(e.deg,"deg)")}})};var g=function(e){return r.a.createElement("div",{id:"hour",className:"hour",style:{transform:"rotate(".concat(e.deg,"deg)")}})};var v=function(e){return r.a.createElement("div",{id:"minute",className:"minute",style:{transform:"rotate(".concat(e.deg,"deg)")}})};var E=function(e){return r.a.createElement("div",{id:"millisecond",className:"millisecond",style:{transform:"rotate(".concat(e.deg,"deg)")}})};var b=function(e){var t=e.children;return r.a.createElement("div",{className:"face"},t)},y=(a(40),a(7)),S=a.n(y);a(41);var k=function(e){var t=e.disable?"disable":"";return r.a.createElement("button",{className:"btn bg-dark",style:e.style,disabled:t,onClick:e.onClick},e.children)};a(42);var C,N=function(e){return r.a.createElement("form",null,r.a.createElement("input",{name:"hour",placeholder:"00",type:"number",min:"0",max:"59",className:"timerInput",value:0===e.value.hour?"":e.value.hour,onChange:e.onChange}),r.a.createElement("span",{className:"timerInputSpan"},"h"),r.a.createElement("input",{ref:e.inputRef,name:"minute",placeholder:"00",type:"number",className:"timerInput",min:"0",max:"59",value:0===e.value.minute?"":e.value.minute,onChange:e.onChange}),r.a.createElement("span",{className:"timerInputSpan"},"m"),r.a.createElement("input",{name:"second",placeholder:"00",type:"number",min:"0",max:"59",className:"timerInput",value:0===e.value.second?"":e.value.second,onChange:e.onChange}),r.a.createElement("span",{className:"timerInputSpan"},"s"),r.a.createElement("br",null),r.a.createElement(k,{disable:!e.submitActive,style:{width:"50px",marginRight:"10px"},onClick:e.onClick},r.a.createElement("i",{className:"fa fa-play"})),r.a.createElement(k,{onClick:e.onStop,style:{width:"50px"}},r.a.createElement("i",{className:"fa fa-stop"})))},D=a(17),j=a.n(D),x=1,w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).playSound=function(){a.setState({soundState:!0}),setTimeout(function(){return a.setState({soundState:!1})},1500)},a.updateClock=function(){if(S.a.duration(C.diff(S()()))._milliseconds<=0)return a.setState({done:!0,submitActive:!0}),a.updataState(),a.playSound(),setTimeout(a.playSound,2e3),setTimeout(a.playSound,4e3),void a.reloadIframe();a.updataState(),a.updataFace()},a.setClock=function(){C=S()();var e={milliseconds:+a.state.millisecond,seconds:+a.state.second,minutes:+a.state.minute,hours:+a.state.hour};C.add(e),a.updataFace()},a.updataState=function(){var e=S.a.duration(C.diff(S()()));a.setState({millisecond:e.milliseconds(),second:("0"+e.seconds()).slice(-2),minute:("0"+e.minutes()).slice(-2),hour:("0"+e.hours()).slice(-2)})},a.updataFace=function(){var e=S.a.duration(C.diff(S()()));a.setState({millisecondDeg:e.milliseconds()/2.77777777778,secondDeg:6*e.seconds()+e.milliseconds()/2.77777777778/60,minuteDeg:6*e.minutes()+a.state.secondDeg/60,hourDeg:e.hours()%12/12*360+90+a.state.minuteDeg/12})},a.timedUpdate=function(){a.state.done||a.state.paused?a.setState({done:!1}):(a.updateClock(),setTimeout(a.timedUpdate,x))},a.onStop=function(e){e.preventDefault(),a.setState({done:!1,millisecond:0,second:0,secondDeg:"",minute:0,minuteDeg:"",hour:0,hourDeg:"",timerInput:"",soundState:!1,submitActive:!0},a.setClock),a.reloadIframe()},a.reloadIframe=function(){a.props.refHook.current.src="",a.props.refHook.current.src=a.props.iframeSrc},a.handleSubmit=function(e){e.preventDefault(),C=S()(),a.setClock(),a.setState({submitActive:!1}),a.timedUpdate()},a.handleInputChange=function(e){var t=e.target.value,n=e.target.name;t=("0"+t).slice(-2),console.log(n,t),a.setState(Object(f.a)({},n,t),a.setClock)},a.state={done:!1,millisecond:0,second:0,secondDeg:"",minute:0,minuteDeg:"",hour:0,hourDeg:"",timerInput:"",soundState:!1,submitActive:!0},a.inputRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.inputRef.current.focus()),this.setClock()}},{key:"render",value:function(){return r.a.createElement("div",{className:"circle my-auto"},r.a.createElement("div",{style:{textAlign:"center",marginTop:"-150px"}},r.a.createElement(N,{submitActive:this.state.submitActive,value:this.state,onClick:this.handleSubmit,onChange:this.handleInputChange,onStop:this.onStop,onPause:this.onPause,inputRef:this.inputRef,paused:this.state.paused})),r.a.createElement(b,null,r.a.createElement(E,{deg:this.state.millisecondDeg}),r.a.createElement(h,{deg:this.state.secondDeg}),r.a.createElement(g,{deg:this.state.hourDeg}),r.a.createElement(v,{deg:this.state.minuteDeg})),r.a.createElement(j.a,{url:"Ding-sound-effect.mp3",playStatus:this.state.soundState?j.a.status.PLAYING:j.a.status.PAUSED,volume:100,autoLoad:!0,position:0}))}}]),t}(r.a.Component),I=a(4),O=a.n(I);function R(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function A(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function F(e){var t=e.style,a=e.size,n=e.children;return r.a.createElement("div",{className:a.split(" ").map(function(e){return"col-"+e}),style:t||{}},n)}var T=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={spotify:null,src:"https://open.spotify.com/embed/playlist/37i9dQZF1DWWQRwui0ExPn",oauth:null},a.spotifyRef=r.a.createRef(),a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(f.a)({},n,r))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(R,{fluid:!0},r.a.createElement(A,null,r.a.createElement(F,{size:"sm-6",style:{display:"flex",flexFlow:"column",background:"#09d3ac",padding:"5px",height:"calc(100vh - 56px)",minHeight:"650px",marginBottom:"auto"}},r.a.createElement(w,{iframeSrc:this.state.src,refHook:this.spotifyRef})),r.a.createElement(F,{size:"sm-6",style:{padding:0,backgroundColor:"black"}},r.a.createElement("div",null,this.spotifyRef.current?console.log(this.spotifyRef):console.log("not"),r.a.createElement("iframe",{src:this.state.src,width:"100%",height:"722px",frameBorder:"0",allowtransparency:"true",allow:"encrypted-media",title:"spotify-player",mozbrowser:!0,ref:this.spotifyRef})))))}}]),t}(n.Component);var P=function(e){var t=e.children;return r.a.createElement("div",{style:{height:300,clear:"both",paddingTop:120,textAlign:"center"},className:"jumbotron"},t)};var U=function(){return r.a.createElement(R,{fluid:!0},r.a.createElement(A,null,r.a.createElement(F,{size:"md-12"},r.a.createElement(P,null,r.a.createElement("h1",null,"404 Page Not Found"),r.a.createElement("h1",null,r.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))};a(64);var z=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand ",href:"/"},"Spotify Timer"))},W=a(18),H=a.n(W),B={headers:{xhrFields:{withCredentials:!0}}},M=function(){return O.a.post("/api/user/authenticate/",B)},_=function(){var e=H.a.get("userId");return console.log(e),M()},J=function(){return O.a.get("/api/worker/cpu")},L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).authenticate=function(){return _().then(function(e){console.log("auth.status"),console.log(e.status),a.setState({authenticated:200===e.status,loading:!1})}).catch(function(e){0})},a.getCpu=function(){return J().then(function(e){return a.setState({cpu:e})}).catch(function(e){0})},a.removeInfo=function(){return a.setState({cpu:null})},a.state={authenticated:!1,loading:!1,ssr:!!e.ssr},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.ssr?d.c:p.a;return r.a.createElement(t,null,r.a.createElement("div",null,r.a.createElement(z,null),r.a.createElement(d.d,null,r.a.createElement(d.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(T,Object.assign({},t,{authenticate:e.authenticate,authenticated:e.state.authenticated}))}}),r.a.createElement(d.a,{component:U}))))}}]),t}(r.a.Component);a(68);console.log("using production: hydrate"),i.a.hydrate(r.a.createElement(L,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.cd065161.chunk.js.map